<!DOCTYPE html>
<html>
   <head>
      <meta charset='utf8'>
      <title>laminas</title>		
      <style type="text/css">
         body{
            margin: 0;
            background-color: red;
         }
         
      </style>
   </head>
   <body>
      <div id="escenario" style="background-color: white"></div>
      <script type="text/javascript" src='../jquery-1.8.2.min.js'></script>
      <script type="text/javascript" src='../Three.js'></script>
      <script type="text/javascript">

      var ancho = 500, alto  = 700;
      var angulo = 30, ratio  = ancho / alto, cerca  = 0.1, lejos  = 100000;
      var escenario = $('#escenario');
      
      var miRender = new THREE.WebGLRenderer();
      var miCamara = new THREE.PerspectiveCamera(angulo, ratio, cerca, lejos);
      var miEscena = new THREE.Scene();
			
      miRender.shadowMapEnabled = true;
      
      miCamara.position.x = 300;
      miCamara.position.y = 200;
      miCamara.position.z = -300;
      miRender.setSize(ancho, alto);
      escenario.append(miRender.domElement);

/* Rectangulo1 */
      var formaRectangulo =new THREE.Geometry(); //una forma sin forma

      //Definimos vectores 3D para cada vertice de la forma:
      var vector1 = new THREE.Vector3(0,0,0);
      var vector2 = new THREE.Vector3(100,50,0);
      var vector3 = new THREE.Vector3(100,50,0);
      var vector4 = new THREE.Vector3(0,50,0);

      //Formamos lo vertices de la forma con los vectores anteriores (4 porque es un rectangulo)
      formaRectangulo.vertices.push(new THREE.Vertex(vector1));
      formaRectangulo.vertices.push(new THREE.Vertex(vector2));
      formaRectangulo.vertices.push(new THREE.Vertex(vector3));
      formaRectangulo.vertices.push(new THREE.Vertex(vector4));

      formaRectangulo.faces.push(new THREE.Face4(0,1,2,3)); //creamos la cara 2d con 4 vertice (es rectangulo)
      
      var matRec1 = new THREE.MeshBasicMaterial({color:0x33420D }); //material de la forma
      var Rectangulo1 = new THREE.Mesh(formaRectangulo,matRec1); //Malla para el rectangulo

      Rectangulo1.position.set(0,0,0);
      Rectangulo1.castShadow = Rectangulo1.receiveShadow = true;

      //Rectangulo2

      var formaRectangulo =new THREE.Geometry(); //una forma sin forma

      //Definimos vectores 3D para cada vertice de la forma:
      var vector1 = new THREE.Vector3(0,0,0);
      var vector2 = new THREE.Vector3(100,25,25);
      var vector3 = new THREE.Vector3(100,25,25);
      var vector4 = new THREE.Vector3(0,25,25);

      //Formamos lo vertices de la forma con los vectores anteriores (4 porque es un rectangulo)
      formaRectangulo.vertices.push(new THREE.Vertex(vector1));
      formaRectangulo.vertices.push(new THREE.Vertex(vector2));
      formaRectangulo.vertices.push(new THREE.Vertex(vector3));
      formaRectangulo.vertices.push(new THREE.Vertex(vector4));

      formaRectangulo.faces.push(new THREE.Face4(0,1,2,3)); //creamos la cara 2d con 4 vertice (es rectangulo)
      
      var matRec1 = new THREE.MeshBasicMaterial({color:0x33420D }); //material de la forma
      var Rectangulo2 = new THREE.Mesh(formaRectangulo,matRec1); //Malla para el rectangulo

      Rectangulo2.position.set(0,50,-50);
      Rectangulo2.castShadow = Rectangulo2.receiveShadow = true;

      //Rectangulo3

         var formaRectangulo =new THREE.Geometry(); //una forma sin forma

      //Definimos vectores 3D para cada vertice de la forma:
      var vector1 = new THREE.Vector3(0,0,0);
      var vector2 = new THREE.Vector3(100,50,-25);
      var vector3 = new THREE.Vector3(100,25,0);
      var vector4 = new THREE.Vector3(0,25,-25);

      //Formamos lo vertices de la forma con los vectores anteriores (4 porque es un rectangulo)
      formaRectangulo.vertices.push(new THREE.Vertex(vector1));
      formaRectangulo.vertices.push(new THREE.Vertex(vector2));
      formaRectangulo.vertices.push(new THREE.Vertex(vector3));
      formaRectangulo.vertices.push(new THREE.Vertex(vector4));

      formaRectangulo.faces.push(new THREE.Face4(0,1,2,3)); //creamos la cara 2d con 4 vertice (es rectangulo)
      
      var matRec1 = new THREE.MeshBasicMaterial({color:0xF3F56D }); //material de la forma
      var Rectangulo3 = new THREE.Mesh(formaRectangulo,matRec1); //Malla para el rectangulo

      Rectangulo3.position.set(0,50,0);
      Rectangulo3.castShadow = Rectangulo3.receiveShadow = true;

/* Rectangulo4 */
      var formaRectangulo =new THREE.Geometry(); //una forma sin forma

      //Definimos vectores 3D para cada vertice de la forma:
      var vector1 = new THREE.Vector3(0,0,0);
      var vector2 = new THREE.Vector3(100,50,0);
      var vector3 = new THREE.Vector3(100,50,50);
      var vector4 = new THREE.Vector3(0,50,0);

      //Formamos lo vertices de la forma con los vectores anteriores (4 porque es un rectangulo)
      formaRectangulo.vertices.push(new THREE.Vertex(vector1));
      formaRectangulo.vertices.push(new THREE.Vertex(vector2));
      formaRectangulo.vertices.push(new THREE.Vertex(vector3));
      formaRectangulo.vertices.push(new THREE.Vertex(vector4));

      formaRectangulo.faces.push(new THREE.Face4(0,1,2,3)); //creamos la cara 2d con 4 vertice (es rectangulo)
      
      var matRec1 = new THREE.MeshBasicMaterial({color:0xAA5500}); //material de la forma
      var Rectangulo4 = new THREE.Mesh(formaRectangulo,matRec1); //Malla para el rectangulo

      Rectangulo4.position.set(0,0,-50);
      Rectangulo4.castShadow = Rectangulo4.receiveShadow = true;

/* Rectangulo5 */
      var formaRectangulo =new THREE.Geometry(); //una forma sin forma

      //Definimos vectores 3D para cada vertice de la forma:
      var vector1 = new THREE.Vector3(0,0,0);
      var vector2 = new THREE.Vector3(0,50,0);
      var vector3 = new THREE.Vector3(0,50,-50);
      var vector4 = new THREE.Vector3(0,0,-50);

      //Formamos lo vertices de la forma con los vectores anteriores (4 porque es un rectangulo)
      formaRectangulo.vertices.push(new THREE.Vertex(vector1));
      formaRectangulo.vertices.push(new THREE.Vertex(vector2));
      formaRectangulo.vertices.push(new THREE.Vertex(vector3));
      formaRectangulo.vertices.push(new THREE.Vertex(vector4));

      formaRectangulo.faces.push(new THREE.Face4(0,1,2,3)); //creamos la cara 2d con 4 vertice (es rectangulo)
      
      var matRec1 = new THREE.MeshBasicMaterial({color:0xAA5500}); //material de la forma
      var Rectangulo5 = new THREE.Mesh(formaRectangulo,matRec1); //Malla para el rectangulo

      Rectangulo5.position.set(0,0,0);
      Rectangulo5.castShadow = Rectangulo5.receiveShadow = true;

/* Rectangulo6 */
      var formaRectangulo =new THREE.Geometry(); //una forma sin forma

      //Definimos vectores 3D para cada vertice de la forma:
       var vector1 = new THREE.Vector3(0,0,0);
      var vector2 = new THREE.Vector3(0,50,0);
      var vector3 = new THREE.Vector3(0,50,-50);
      var vector4 = new THREE.Vector3(0,0,-50);;

      //Formamos lo vertices de la forma con los vectores anteriores (4 porque es un rectangulo)
      formaRectangulo.vertices.push(new THREE.Vertex(vector1));
      formaRectangulo.vertices.push(new THREE.Vertex(vector2));
      formaRectangulo.vertices.push(new THREE.Vertex(vector3));
      formaRectangulo.vertices.push(new THREE.Vertex(vector4));

      formaRectangulo.faces.push(new THREE.Face4(0,1,2,3)); //creamos la cara 2d con 4 vertice (es rectangulo)
      
      var matRec1 = new THREE.MeshBasicMaterial({color:0xAA5500}); //material de la forma
      var Rectangulo6 = new THREE.Mesh(formaRectangulo,matRec1); //Malla para el rectangulo

      Rectangulo6.position.set(100,0,0);
      Rectangulo6.castShadow = Rectangulo6.receiveShadow = true;

      /* Rectangulo7 */
      var formaRectangulo =new THREE.Geometry(); //una forma sin forma

      //Definimos vectores 3D para cada vertice de la forma:
       var vector1 = new THREE.Vector3(0,0,0);
      var vector2 = new THREE.Vector3(0,25,0);
      var vector3 = new THREE.Vector3(0,25,-18);
      var vector4 = new THREE.Vector3(0,0,-18);;

      //Formamos lo vertices de la forma con los vectores anteriores (4 porque es un rectangulo)
      formaRectangulo.vertices.push(new THREE.Vertex(vector1));
      formaRectangulo.vertices.push(new THREE.Vertex(vector2));
      formaRectangulo.vertices.push(new THREE.Vertex(vector3));
      formaRectangulo.vertices.push(new THREE.Vertex(vector4));

      formaRectangulo.faces.push(new THREE.Face4(0,1,2,3)); //creamos la cara 2d con 4 vertice (es rectangulo)
      
      var matRec1 = new THREE.MeshBasicMaterial({color:0xAA0000}); //material de la forma
      var Rectangulo7 = new THREE.Mesh(formaRectangulo,matRec1); //Malla para el rectangulo

      Rectangulo7.position.set(-.3,0,-20);
      Rectangulo7.castShadow = Rectangulo7.receiveShadow = true;


/* Triangulo1 */
      var formaTriangulo = new THREE.Geometry(); //una forma sin forma

      //Definimos vectores 3D para cada vertice de la forma:
      var vector5 = new THREE.Vector3(0,0,0);
      var vector6 = new THREE.Vector3(0,25,-25);
      var vector7 = new THREE.Vector3(0,0,-50);

      //Formamos lo vertices de la forma con los vectores anteriores (3 porque es triangulo)
      formaTriangulo.vertices.push(new THREE.Vertex(vector5));
      formaTriangulo.vertices.push(new THREE.Vertex(vector6));
      formaTriangulo.vertices.push(new THREE.Vertex(vector7));
    
      formaTriangulo.faces.push( new THREE.Face3(0,1,2)); //Cara 2d con 3 vertices (es triangulo)
      var matTri1 =  new THREE.MeshBasicMaterial({color:0xAA0000});   //material del triangulo
      var Triangulo1= new THREE.Mesh(formaTriangulo, matTri1); //malla para el triangulo
      Triangulo1.position.set(0,50,0);
      Triangulo1.castShadow = Triangulo1.receiveShadow = true;


      //triangulo 2

      var formaTriangulo = new THREE.Geometry(); //una forma sin forma

      //Definimos vectores 3D para cada vertice de la forma:
      var vector5 = new THREE.Vector3(0,0,0);
      var vector6 = new THREE.Vector3(0,25,-25);
      var vector7 = new THREE.Vector3(0,0,-50);

      //Formamos lo vertices de la forma con los vectores anteriores (3 porque es triangulo)
      formaTriangulo.vertices.push(new THREE.Vertex(vector5));
      formaTriangulo.vertices.push(new THREE.Vertex(vector6));
      formaTriangulo.vertices.push(new THREE.Vertex(vector7));
    
      formaTriangulo.faces.push( new THREE.Face3(0,1,2)); //Cara 2d con 3 vertices (es triangulo)
      var matTri1 =  new THREE.MeshBasicMaterial({color:0xAA0000});   //material del triangulo
      var Triangulo2= new THREE.Mesh(formaTriangulo, matTri1); //malla para el triangulo
      Triangulo2.position.set(100,50,0);
      Triangulo2.castShadow = Triangulo2.receiveShadow = true;



	
/* LUZ */
      var luz2 = new THREE.SpotLight(0x257A44);
      luz2.position.x = 0; luz2.position.y = 200; luz2.position.z = -200;
      luz2.castShadow = true;
		
      var luz = new THREE.SpotLight(0x257A44);
      luz.position.x = 0; luz.position.y = 200; luz.position.z = 200;
      luz.castShadow = true;
		
      miEscena.add(luz); 
      miEscena.add(luz2);
      miEscena.add(miCamara);
      miEscena.add(Rectangulo1);
      miEscena.add(Triangulo1);
      miEscena.add(Rectangulo2);
      miEscena.add(Rectangulo3);
      miEscena.add(Triangulo2);
      miEscena.add(Rectangulo4);
      miEscena.add(Rectangulo5);
      miEscena.add(Rectangulo6);
      miEscena.add(Rectangulo7);


      miCamara.lookAt(Rectangulo1.position);    

      animar();
      var ang=1;
      function animar(){
         requestAnimationFrame(animar);
         renderizar();
      }

      function renderizar(){
         if (ang>=360) ang=1; else ang+=0.01;
         var x= 424 * Math.cos(ang);
         var z= 424 * Math.sin(ang);
         miCamara.position.x = x; 
         miCamara.position.z = z;
         miCamara.lookAt(Rectangulo1.position);
         miRender.render(miEscena,miCamara);
      }
      </script>
   </body>
</html>